<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Automating Runs &#8212; Perun 0.21.8 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/perun.css?v=25c05b3f" />
    <script src="_static/documentation_options.js?v=e76a183b"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Detecting Performance Changes" href="degradation.html" />
    <link rel="prev" title="Visualizations Overview" href="views.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="automating-runs">
<span id="jobs-automation"></span><h1>Automating Runs<a class="headerlink" href="#automating-runs" title="Link to this heading">¶</a></h1>
<p>Profiles can be generated either manually on your own (either by individual profilers or using the
<code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">collect</span></code> and <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">postprocess</span></code> commands), or you can use Perun’s <code class="docutils literal notranslate"><span class="pre">runner</span></code>
infrastructure to partially automate the generation process. Perun is capable either to run the
jobs through the stored configuration which is meant for a regular project profiling (either in
local or shared configuration c.f. <a class="reference internal" href="config.html"><span class="doc">Perun Configuration files</span></a>) or through a single job specifications meant for
irregular or specific profiling jobs.</p>
<p>Each profile generated by specified batch jobs will be stored in <code class="docutils literal notranslate"><span class="pre">.perun/jobs</span></code> directory with the
following name of the template:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span><span class="o">-</span><span class="n">collector</span><span class="o">-</span><span class="n">workload</span><span class="o">-</span><span class="n">Y</span><span class="o">-</span><span class="n">m</span><span class="o">-</span><span class="n">d</span><span class="o">-</span><span class="n">H</span><span class="o">-</span><span class="n">M</span><span class="o">-</span><span class="n">S</span><span class="o">.</span><span class="n">perf</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">command</span></code> corresponds to the name of the application (or script), for which we collected
the data using <code class="docutils literal notranslate"><span class="pre">collector</span></code> on <code class="docutils literal notranslate"><span class="pre">workload</span></code> at given specified date. You can change the template
for profile name generation by setting <a class="reference internal" href="config.html#confkey-format.output_profile_template"><code class="xref std std-ckey docutils literal notranslate"><span class="pre">format.output_profile_template</span></code></a>. New profiles are
annotated with the <a class="reference internal" href="profile.html#perfreg-origin"><code class="xref std std-preg docutils literal notranslate"><span class="pre">origin</span></code></a> set to the current <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> of the wrapped repository. <cite>origin</cite>
serves as a check during registering profiles in the indexes of minor versions. Profile with
<cite>origin</cite> different from the target minor version will not be assigned, as it would violate the
correctness of the performance history of the project. If you want to automatically register the
newly generated profile into the corresponding minor version index, then set
<a class="reference internal" href="config.html#confkey-profiles.register_after_run"><code class="xref std std-ckey docutils literal notranslate"><span class="pre">profiles.register_after_run</span></code></a> key to a true value.</p>
<a class="reference internal image-reference" href="_images/perun-jobs-flow.svg"><img alt="_images/perun-jobs-flow.svg" class="align-center" src="_images/perun-jobs-flow.svg" width="100%" /></a>
<p>The figure above show the overview of the jobs flow in Perun. The runner module is initialized form
user interfaces and from local (or shared) configurations and internally generates the matrix of
jobs which are run in the sequence. Each job is then finished with storing the generated profile in
the internal storage.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to obtain fine result, it is advised to run the benchmark several times (at least
three times) and either do the average over all runs or discard the first runs. This is
because, initial benchmarks usually have skewed times.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you do not want to miss profiling, e.g. after each push, commit, etc., check out <a class="reference external" href="https://git-scm.com/book/gr/v2/Customizing-Git-Git-Hooks">git
hooks</a>. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">hooks</span></code> allows you to run custom scripts on certain git event triggers.</p>
</div>
<section id="runner-cli">
<h2>Runner CLI<a class="headerlink" href="#runner-cli" title="Link to this heading">¶</a></h2>
<p><a class="reference internal" href="cli.html"><span class="doc">Command Line Interface</span></a> contains group of two commands for managing the jobs—<code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">run</span> <span class="pre">job</span></code> for running one
specified batch of jobs (usually corresponding to irregular measuring or profilings) and <code class="docutils literal notranslate"><span class="pre">perun</span>
<span class="pre">run</span> <span class="pre">matrix</span></code> for running the pre-configured matrix in <a class="reference external" href="http://yaml.org/">Yaml</a> format specifing the batch job (see
<a class="reference internal" href="#jobs-matrix"><span class="std std-ref">Job Matrix Format</span></a> for full specification). Running the jobs by <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">run</span> <span class="pre">matrix</span></code> corresponds to
regular measuring and profiling, e.g. during end of release cycles, before push to origin/upstream
or even after each commit.</p>
<section id="perun-run-job">
<h3>perun run job<a class="headerlink" href="#perun-run-job" title="Link to this heading">¶</a></h3>
<p>Run specified batch of perun jobs to generate profiles.</p>
<p>This command correspond to running one isolated batch of profiling jobs,
outside of regular profiling. Run <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">run</span> <span class="pre">matrix</span></code>, after specifying
job matrix in local configuration to automate regular profiling of your
project. After the batch is generated, each profile is tagged with
<a class="reference internal" href="profile.html#perfreg-origin"><code class="xref std std-preg docutils literal notranslate"><span class="pre">origin</span></code></a> set to current <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>. This serves as check to not assign
such profiles to different minor versions.</p>
<p>By default, the profiles computed by this batch job are stored inside the
<code class="docutils literal notranslate"><span class="pre">.perun/jobs/</span></code> directory as a files in form of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">-</span><span class="n">collector</span><span class="o">-</span><span class="n">workload</span><span class="o">-</span><span class="n">timestamp</span><span class="o">.</span><span class="n">perf</span>
</pre></div>
</div>
<p>In order to store generated profiles run the following, with <code class="docutils literal notranslate"><span class="pre">i&#64;p</span></code>
corresponding to <cite>pending tag</cite>, which can be obtained by running <code class="docutils literal notranslate"><span class="pre">perun</span>
<span class="pre">status</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">perun</span> <span class="n">add</span> <span class="n">i</span><span class="nd">@p</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>perun<span class="w"> </span>run<span class="w"> </span>job<span class="w"> </span>-c<span class="w"> </span><span class="nb">time</span><span class="w"> </span>-b<span class="w"> </span>./mybin<span class="w"> </span>-w<span class="w"> </span>file.in<span class="w"> </span>-w<span class="w"> </span>file2.in<span class="w"> </span>-p<span class="w"> </span>normalizer
</pre></div>
</div>
<p>This command profiles two commands <code class="docutils literal notranslate"><span class="pre">./mybin</span> <span class="pre">file.in</span></code> and <code class="docutils literal notranslate"><span class="pre">./mybin</span>
<span class="pre">file2.in</span></code> and collects the profiling data using the
<a class="reference internal" href="collectors.html#collectors-time"><span class="std std-ref">Time Collector</span></a>. The profiles are then normalized with the
<a class="reference internal" href="postprocessors.html#postprocessors-normalizer"><span class="std std-ref">Normalizer Postprocessor</span></a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>perun<span class="w"> </span>run<span class="w"> </span>job<span class="w"> </span>-c<span class="w"> </span>complexity<span class="w"> </span>-b<span class="w"> </span>./mybin<span class="w"> </span>-w<span class="w"> </span>sll.cpp<span class="w"> </span>-cp<span class="w"> </span>complexity<span class="w"> </span><span class="nv">targetdir</span><span class="o">=</span>./src
</pre></div>
</div>
<p>This commands runs one job ‘./mybin sll.cpp’ using the
<a class="reference internal" href="collectors.html#collectors-trace"><span class="std std-ref">Trace Collector</span></a>, which uses custom binaries targeted at
<code class="docutils literal notranslate"><span class="pre">./src</span></code> directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>perun<span class="w"> </span>run<span class="w"> </span>job<span class="w"> </span>-c<span class="w"> </span>mcollect<span class="w"> </span>-b<span class="w"> </span>./mybin<span class="w"> </span>-b<span class="w"> </span>./otherbin<span class="w"> </span>-w<span class="w"> </span>input.txt<span class="w"> </span>-p<span class="w"> </span>normalizer<span class="w"> </span>-p<span class="w"> </span>clusterizer
</pre></div>
</div>
<p>This commands runs two jobs <code class="docutils literal notranslate"><span class="pre">./mybin</span> <span class="pre">input.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">./otherbin</span>
<span class="pre">input.txt</span></code> and collects the profiles using the <a class="reference internal" href="collectors.html#collectors-memory"><span class="std std-ref">Memory Collector</span></a>.
The profiles are then postprocessed, first using the
<a class="reference internal" href="postprocessors.html#postprocessors-normalizer"><span class="std std-ref">Normalizer Postprocessor</span></a> and then with
<a class="reference internal" href="postprocessors.html#postprocessors-regression-analysis"><span class="std std-ref">Regression Analysis</span></a>.</p>
<p>Refer to <a class="reference internal" href="#"><span class="doc">Automating Runs</span></a> and <a class="reference internal" href="profile.html"><span class="doc">Perun’s Profile Format</span></a> for more details about automation
and lifetimes of profiles. For list of available collectors and
postprocessors refer to <a class="reference internal" href="collectors.html#collectors-list"><span class="std std-ref">Supported Collectors</span></a> and
<a class="reference internal" href="postprocessors.html#postprocessors-list"><span class="std std-ref">Supported Postprocessors</span></a> respectively.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>perun<span class="w"> </span>run<span class="w"> </span>job<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-perun-run-job-b">
<span id="cmdoption-perun-run-job-cmd"></span><span class="sig-name descname"><span class="pre">-b</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--cmd</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;cmd&gt;</span></span><a class="headerlink" href="#cmdoption-perun-run-job-b" title="Link to this definition">¶</a></dt>
<dd><p><strong>Required</strong> Command that is being profiled. Either corresponds to some script, binary or command, e.g. <code class="docutils literal notranslate"><span class="pre">./mybin</span></code> or <code class="docutils literal notranslate"><span class="pre">perun</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-perun-run-job-a">
<span id="cmdoption-perun-run-job-args"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--args</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;args&gt;</span></span><a class="headerlink" href="#cmdoption-perun-run-job-a" title="Link to this definition">¶</a></dt>
<dd><p>Additional parameters for &lt;cmd&gt;. E.g. <code class="docutils literal notranslate"><span class="pre">status</span></code> or <code class="docutils literal notranslate"><span class="pre">-al</span></code> is command parameter.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-perun-run-job-w">
<span id="cmdoption-perun-run-job-workload"></span><span class="sig-name descname"><span class="pre">-w</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--workload</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;workload&gt;</span></span><a class="headerlink" href="#cmdoption-perun-run-job-w" title="Link to this definition">¶</a></dt>
<dd><p>Inputs for &lt;cmd&gt;. E.g. <code class="docutils literal notranslate"><span class="pre">./subdir</span></code> is possible workloadfor <code class="docutils literal notranslate"><span class="pre">ls</span></code> command.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-perun-run-job-c">
<span id="cmdoption-perun-run-job-collector"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--collector</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;collector&gt;</span></span><a class="headerlink" href="#cmdoption-perun-run-job-c" title="Link to this definition">¶</a></dt>
<dd><p><strong>Required</strong> Profiler used for collection of profiling data for the given &lt;cmd&gt;</p>
<dl class="field-list simple">
<dt class="field-odd">Options<span class="colon">:</span></dt>
<dd class="field-odd"><p>trace | memory | time | complexity | bounds</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-perun-run-job-cp">
<span id="cmdoption-perun-run-job-collector-params"></span><span class="sig-name descname"><span class="pre">-cp</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--collector-params</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;collector_params&gt;</span></span><a class="headerlink" href="#cmdoption-perun-run-job-cp" title="Link to this definition">¶</a></dt>
<dd><p>Additional parameters for the &lt;collector&gt; read from the file in YAML format</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-perun-run-job-p">
<span id="cmdoption-perun-run-job-postprocessor"></span><span class="sig-name descname"><span class="pre">-p</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--postprocessor</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;postprocessor&gt;</span></span><a class="headerlink" href="#cmdoption-perun-run-job-p" title="Link to this definition">¶</a></dt>
<dd><p>After each collection of data will run &lt;postprocessor&gt; to postprocess the collected resources.</p>
<dl class="field-list simple">
<dt class="field-odd">Options<span class="colon">:</span></dt>
<dd class="field-odd"><p>clusterizer | normalizer | regression-analysis | regressogram | moving-average | kernel-regression</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-perun-run-job-pp">
<span id="cmdoption-perun-run-job-postprocessor-params"></span><span class="sig-name descname"><span class="pre">-pp</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--postprocessor-params</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;postprocessor_params&gt;</span></span><a class="headerlink" href="#cmdoption-perun-run-job-pp" title="Link to this definition">¶</a></dt>
<dd><p>Additional parameters for the &lt;postprocessor&gt; read from the file in YAML format</p>
</dd></dl>

</section>
<section id="perun-run-matrix">
<h3>perun run matrix<a class="headerlink" href="#perun-run-matrix" title="Link to this heading">¶</a></h3>
<p>Runs the jobs matrix specified in the local.yml configuration.</p>
<p>This commands loads the jobs configuration from local configuration, builds
the <cite>job matrix</cite> and subsequently runs the jobs collecting list of
profiles. Each profile is then stored in <code class="docutils literal notranslate"><span class="pre">.perun/jobs</span></code> directory and
moreover is annotated using by setting <a class="reference internal" href="profile.html#perfreg-origin"><code class="xref std std-preg docutils literal notranslate"><span class="pre">origin</span></code></a> key to current
<code class="docutils literal notranslate"><span class="pre">HEAD</span></code>. This serves as check to not assing such profiles to different
minor versions.</p>
<p>The job matrix is defined in the yaml format and consists of specification
of binaries with corresponding arguments, workloads, supported collectors
of profiling data and postprocessors that alter the collected profiles.</p>
<p>Refer to <a class="reference internal" href="#"><span class="doc">Automating Runs</span></a> and <a class="reference internal" href="#jobs-matrix"><span class="std std-ref">Job Matrix Format</span></a> for more details how to specify
the job matrix inside local configuration and to <a class="reference internal" href="config.html"><span class="doc">Perun Configuration files</span></a> how to work
with Perun’s configuration files.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>perun<span class="w"> </span>run<span class="w"> </span>matrix<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-perun-run-matrix-q">
<span id="cmdoption-perun-run-matrix-without-vcs-history"></span><span class="sig-name descname"><span class="pre">-q</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--without-vcs-history</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-perun-run-matrix-q" title="Link to this definition">¶</a></dt>
<dd><p>Will not print the VCS history tree during the collection of the data.</p>
</dd></dl>

</section>
</section>
<section id="overview-of-jobs">
<span id="jobs-overview"></span><h2>Overview of Jobs<a class="headerlink" href="#overview-of-jobs" title="Link to this heading">¶</a></h2>
<p>Usually during the profiling of application, we first collect the data by the means of profiler (or
profiling data collector or whatever terminology we are using) and we can further augment the
collected data by ordered list of postprocessing phases (e.g. for filtering out unwanted data, normalizing
or scaling the amounts, etc.). As results we generate one profile for each application
configuration and each profiling job. Thus, we can consider one profiling jobs as collection of
profiling data from application of one certain configuration using one collector and ordered set of
postprocessors.</p>
<p>One configuration of application can be partitioned into three parts (two being optional):</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The actual <strong>command</strong> that is being profiled, i.e. either the binary or wrapper script that
is executed as one command from the terminal and ends with success or failure. An example of
command can be e.g. the <code class="docutils literal notranslate"><span class="pre">perun</span></code> itself, <code class="docutils literal notranslate"><span class="pre">ls</span></code> or <code class="docutils literal notranslate"><span class="pre">./my_binary</span></code>.</p></li>
<li><p>Set of <strong>arguments</strong> for command (<cite>optional</cite>), i.e. set of parameters or arguments, that are
supplied to the profiled command. The intuition behind arguments is to allow setting
various optimization levels or profile different configurations of one program. An example of
argument (or parameter) can be e.g. <code class="docutils literal notranslate"><span class="pre">log</span></code>, <code class="docutils literal notranslate"><span class="pre">-al</span></code> or <code class="docutils literal notranslate"><span class="pre">-O2</span> <span class="pre">-v</span></code>.</p></li>
<li><p>Input <strong>workloads</strong> (<cite>optional</cite>), i.e. different inputs for profiled command. While workloads
can be considered as arguments, separating them allows more finer specification of jobs, e.g.
when we want to profile our program on workloads with different sizes under different
configurations (since degradations usually manifest under bigger workloads). An example of
workload can be e.g. <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> or <code class="docutils literal notranslate"><span class="pre">/dir/subdir</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span> <span class="pre">&quot;Hello</span> <span class="pre">world&quot;</span></code>.</p></li>
</ol>
</div></blockquote>
<p>So from the user specification, commands, arguments and workloads can be combined using cartesian
product which yields the list of full application configurations. Then for each such configuration
(like e.g.  <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">log</span> <span class="pre">HEAD</span></code>, <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-al</span> <span class="pre">/dir/subdir</span></code> or <code class="docutils literal notranslate"><span class="pre">./my_binary</span> <span class="pre">-O2</span> <span class="pre">-v</span> <span class="pre">&lt;&lt;</span> <span class="pre">&quot;Hello</span> <span class="pre">world&quot;</span></code>)
we run specified collectors and finally the list of postprocessors. This process is automatic
either using the <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">run</span> <span class="pre">job</span></code> or <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">run</span> <span class="pre">matrix</span></code>, which differ in the way how the user
specification is obtained.</p>
<p>Each collector (resp. postprocessor) runs in up to three phases (with <cite>pre</cite> and <cite>post</cite> phases being
optional). First the function <code class="docutils literal notranslate"><span class="pre">before()</span></code> is executed (if implemented by given collector or
postprocessor), where the collector (resp. postprocessor) can execute additional preparation before
the actual collection (resp. postprocessing) of the data, like e.g. compiling custom binaries. Then
the actual <code class="docutils literal notranslate"><span class="pre">collect()</span></code> (resp. <code class="docutils literal notranslate"><span class="pre">postprocess()</span></code>) is executed, which runs the given job with
specified collection (resp. postprocessing) unit and generatesj profile (potentially in raw or
intermediate format).  Finally the <code class="docutils literal notranslate"><span class="pre">after()</span></code> phase is run, which can further postprocess the
generated profile (after the success of collection), e.g. by required filtering of data or by
transforming raw profiles to <a class="reference internal" href="profile.html#profile-format"><span class="std std-ref">Perun’s Profile Format</span></a>. See (<a class="reference internal" href="collectors.html"><span class="doc">Collectors Overview</span></a> and
<a class="reference internal" href="postprocessors.html"><span class="doc">Postprocessors Overview</span></a> for more detailed description of units). During these phases <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> are
passed through and share the specification, or can be used for passing additional information to
following phases. The resulting <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> has to contain the <code class="docutils literal notranslate"><span class="pre">profile</span></code> key, which contains the
profile w.r.t. <a class="reference internal" href="profile.html#profile-spec"><span class="std std-ref">Specification of Profile Format</span></a>.</p>
<p>The overall process can described by the following pseudocode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">argument</span><span class="p">,</span> <span class="n">workload</span><span class="p">)</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">:</span>
   <span class="k">for</span> <span class="n">collector</span> <span class="ow">in</span> <span class="n">collectors</span><span class="p">:</span>
      <span class="n">collector</span><span class="o">.</span><span class="n">before</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">argument</span><span class="p">,</span> <span class="n">workload</span><span class="p">)</span>
      <span class="n">collector</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">argument</span><span class="p">,</span> <span class="n">workload</span><span class="p">)</span>
      <span class="n">profile</span> <span class="o">=</span> <span class="n">collector</span><span class="o">.</span><span class="n">after</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">postprocessor</span> <span class="ow">in</span> <span class="n">postprocessors</span><span class="p">:</span>
         <span class="n">postprocessor</span><span class="o">.</span><span class="n">before</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
         <span class="n">postprocessor</span><span class="o">.</span><span class="n">postprocess</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
         <span class="n">profile</span> <span class="o">=</span> <span class="n">postprocessor</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that each phase should return the following tripple: (<code class="docutils literal notranslate"><span class="pre">status</span> <span class="pre">code</span></code>, <code class="docutils literal notranslate"><span class="pre">status</span> <span class="pre">message</span></code>,
<code class="docutils literal notranslate"><span class="pre">kwargs</span></code>). The <code class="docutils literal notranslate"><span class="pre">status</span> <span class="pre">code</span></code> is used for checking the success of the called phases and in case
of error prints the <code class="docutils literal notranslate"><span class="pre">status</span> <span class="pre">message</span></code>.</p>
<p>Before this overall process, one can run a custom set of commands by stating the key
<a class="reference internal" href="config.html#confkey-execute.pre_run"><code class="xref std std-ckey docutils literal notranslate"><span class="pre">execute.pre_run</span></code></a> key. This is mostly meant for compiling of new version or preparing other
necessary requirements before actual collection.</p>
<a class="reference internal image-reference" href="_images/lifetime-of-profile.svg"><img alt="_images/lifetime-of-profile.svg" class="align-center" src="_images/lifetime-of-profile.svg" width="70%" /></a>
<p>For specification and details about collectors, postprocessors and internal storage of Perun refer
to <a class="reference internal" href="collectors.html"><span class="doc">Collectors Overview</span></a>, <a class="reference internal" href="postprocessors.html"><span class="doc">Postprocessors Overview</span></a> and <a class="reference internal" href="internals.html"><span class="doc">Perun Internals</span></a>.</p>
</section>
<section id="job-matrix-format">
<span id="jobs-matrix"></span><h2>Job Matrix Format<a class="headerlink" href="#job-matrix-format" title="Link to this heading">¶</a></h2>
<p>In order to maximize the automation of running jobs you can specify in Perun config the
specification of commands, arguments, workloads, collectors and postprocessors (and their internal
configurations) as specified in the <a class="reference internal" href="#jobs-overview"><span class="std std-ref">Overview of Jobs</span></a>. <cite>Job matrixes</cite> are meant for a regular
profiling jobs and should reduce the profiling to a single <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">run</span> <span class="pre">matrix</span></code> command. Both the
config and the specification of job matrix is based on <a class="reference external" href="http://yaml.org/">Yaml</a> format.</p>
<p>Full example of one job matrix is as follows:</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cmds</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">perun</span>

<span class="nt">args</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">log</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">log --short</span>

<span class="nt">workloads</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HEAD</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HEAD~1</span>

<span class="nt">collectors</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">time</span>

<span class="nt">postprocessors</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">normalizer</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">regression_analysis</span>
<span class="w">     </span><span class="nt">params</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">full</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">steps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</pre></div>
</div>
</div></blockquote>
<p>Given matrix will create four jobs (<code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">log</span> <span class="pre">HEAD</span></code>, <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">log</span> <span class="pre">HEAD~1</span></code>, <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">log</span> <span class="pre">--short</span>
<span class="pre">HEAD</span></code> and <code class="docutils literal notranslate"><span class="pre">perun</span> <span class="pre">log</span> <span class="pre">--short</span> <span class="pre">HEAD~1</span></code>) which will be issued for runs. Each job will be collected
by <a class="reference internal" href="collectors.html#collectors-time"><span class="std std-ref">Time Collector</span></a> and then postprocessed first by <a class="reference internal" href="postprocessors.html#postprocessors-normalizer"><span class="std std-ref">Normalizer Postprocessor</span></a> and then
by <a class="reference internal" href="postprocessors.html#postprocessors-regression-analysis"><span class="std std-ref">Regression Analysis</span></a> with specification <code class="docutils literal notranslate"><span class="pre">{'method':</span> <span class="pre">'full',</span> <span class="pre">'steps':</span>
<span class="pre">10}</span></code>.</p>
<p>Run the following to configure the job matrix of the current project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">perun</span> <span class="n">config</span> <span class="o">--</span><span class="n">edit</span>
</pre></div>
</div>
<p>This will open the local configuration in editor specified by <a class="reference internal" href="config.html#confkey-general.editor"><code class="xref std std-ckey docutils literal notranslate"><span class="pre">general.editor</span></code></a> and lets you
specify configuration for your application and set of collectors and postprocessors. Unless the
source configuration file was not modified, it should contain a helper comments. The following keys
can be set in the configuration:</p>
<dl class="std matrixunit">
<dt class="sig sig-object std" id="matrixunit-cmds">
<span class="sig-name descname"><span class="pre">cmds</span></span><a class="headerlink" href="#matrixunit-cmds" title="Link to this definition">¶</a></dt>
<dd><p>List of names of commands which will be profiled by set of collectors. The commands should
preferably not contain any parameters or workloads, since they can be set by different
configuration resulting into finer specification of configuration.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cmds</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">perun</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ls</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./myclientbinary</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./myserverbinary</span>
</pre></div>
</div>
</dd></dl>

<dl class="std matrixunit">
<dt class="sig sig-object std" id="matrixunit-args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#matrixunit-args" title="Link to this definition">¶</a></dt>
<dd><p>List of arguments (or parameters) which are supplied to profiled commands. It is advised to
differentiate between arguments/parameters and workloads. While their semantics may seem close,
separation of this concern results into more verbose performance history</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">args</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">log</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">log --short</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-al</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-q -O2</span>
</pre></div>
</div>
</dd></dl>

<dl class="std matrixunit">
<dt class="sig sig-object std" id="matrixunit-workloads">
<span class="sig-name descname"><span class="pre">workloads</span></span><a class="headerlink" href="#matrixunit-workloads" title="Link to this definition">¶</a></dt>
<dd><p>List of workloads which are supplied to profiled commands. Workloads represents program inputs
and supplied files.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">workloads</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HEAD</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HEAD~1</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr/share</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;&lt; &quot;Hello world!&quot;</span>
</pre></div>
</div>
<p>From version 15.1. you can use the workload generators instead. See
<a class="reference internal" href="#jobs-workload-generators"><span class="std std-ref">List of Supported Workload Generators</span></a> for more information about supported workload generators and
<a class="reference internal" href="config.html#confkey-generators.workload"><code class="xref std std-ckey docutils literal notranslate"><span class="pre">generators.workload</span></code></a> for more information how to specify the workload generators in the
configuration files.</p>
</dd></dl>

<dl class="std matrixunit">
<dt class="sig sig-object std" id="matrixunit-collectors">
<span class="sig-name descname"><span class="pre">collectors</span></span><a class="headerlink" href="#matrixunit-collectors" title="Link to this definition">¶</a></dt>
<dd><p>List of collectors used to collect data for the given configuration of application represented
by commands, arguments and workloads. Each collector is specified by its <cite>name</cite> and additional
<cite>params</cite> which corresponds to the dictionary of (key, value) parameters. Note that the same
collector can be specified more than once (for cases, when one needs different collector
configurations). For list of supported collectors refer to <a class="reference internal" href="collectors.html#collectors-list"><span class="std std-ref">Supported Collectors</span></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">collectors</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">memory</span>
<span class="w">     </span><span class="nt">params</span><span class="p">:</span>
<span class="w">         </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sampling</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">time</span>
</pre></div>
</div>
</dd></dl>

<dl class="std matrixunit">
<dt class="sig sig-object std" id="matrixunit-postprocessors">
<span class="sig-name descname"><span class="pre">postprocessors</span></span><a class="headerlink" href="#matrixunit-postprocessors" title="Link to this definition">¶</a></dt>
<dd><p>List of postprocessors which are used after the successful collection of the profiling data.
Each postprocessor is specified by its <cite>name</cite> and additional <cite>params</cite> which corresponds to the
dictionary of (key, value) parameters. Note that the same postprocessor can be specified more
than just once. For list of supported postprocessors refer to <a class="reference internal" href="postprocessors.html#postprocessors-list"><span class="std std-ref">Supported Postprocessors</span></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">postprocessors</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">normalizer</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">regression_analysis</span>
<span class="w">     </span><span class="nt">params</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">full</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">steps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-perun.workload">
<span id="list-of-supported-workload-generators"></span><span id="jobs-workload-generators"></span><h2>List of Supported Workload Generators<a class="headerlink" href="#module-perun.workload" title="Link to this heading">¶</a></h2>
<p>From version 0.15.1, Perun supports the specification of workload generators, instead of raw
workload values specified in <a class="reference internal" href="#matrixunit-workloads"><code class="xref std std-munit docutils literal notranslate"><span class="pre">workloads</span></code></a>. These generators continuously generates workloads
and internally Perun either merges the resources into one single profile or gradually generates
profile for each workload.</p>
<p>The generators are specified by <a class="reference internal" href="config.html#confkey-generators.workload"><code class="xref std std-ckey docutils literal notranslate"><span class="pre">generators.workload</span></code></a> section. These specifications are
collected through all of the configurations in the hierarchy.</p>
<p>You can use some basic generators specified in shared configurations called <code class="docutils literal notranslate"><span class="pre">basic_strings</span></code>
(which generates strings of lengths from interval (8, 128) with increment of 8), <code class="docutils literal notranslate"><span class="pre">basic_integers</span></code>
(which generates integers from interval (100, 10000), with increment of 200) or <code class="docutils literal notranslate"><span class="pre">basic_files</span></code>
(which generates text files with number of lines from interval (10, 10000), with increment of
1000).</p>
<section id="module-perun.workload.generator">
<span id="generic-settings"></span><h3>Generic settings<a class="headerlink" href="#module-perun.workload.generator" title="Link to this heading">¶</a></h3>
<p>All generators can be configured using the following generic settings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">profile_for_each_workload</span></code>: by default this option is set to false, and then when one uses
the generator to generate the workload, the collected resources will be merged into one single
profile. If otherwise this option is set to true value (true, 1, yes, etc.) then Perun will
generate profile for each of the generated workload.</p></li>
</ul>
</section>
<section id="module-perun.workload.singleton_generator">
<span id="singleton-generator"></span><h3>Singleton Generator<a class="headerlink" href="#module-perun.workload.singleton_generator" title="Link to this heading">¶</a></h3>
<p>Singleton Generator generates only one single value. This generator corresponds to the default
behaviour of Perun, i.e. when each specified workload in <a class="reference internal" href="#matrixunit-workloads"><code class="xref std std-munit docutils literal notranslate"><span class="pre">workloads</span></code></a> was passed to profiled
program as string.</p>
<p>Currently be default, any string specified in <a class="reference internal" href="#matrixunit-workloads"><code class="xref std std-munit docutils literal notranslate"><span class="pre">workloads</span></code></a>, that does not correspond to some
generator specified in <a class="reference internal" href="config.html#confkey-generators.workload"><code class="xref std std-ckey docutils literal notranslate"><span class="pre">generators.workload</span></code></a>, is converted to Singleton Generator.</p>
<p>The Singleton Generator can be configured by following options:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code>: singleton value that is passed as workload.</p></li>
</ul>
</div></blockquote>
</section>
<section id="module-perun.workload.integer_generator">
<span id="integer-generator"></span><h3>Integer Generator<a class="headerlink" href="#module-perun.workload.integer_generator" title="Link to this heading">¶</a></h3>
<p>Integer Generator generates the range of the integers.</p>
<p>The Integer Generator starts from the <code class="docutils literal notranslate"><span class="pre">min_range</span></code> workload, and continuously increments this
value by <code class="docutils literal notranslate"><span class="pre">step</span></code> (by default equal to 1) until it reaches max_range (including).</p>
<p>The following shows the example of integer generator, which continuously generates workloads
10, 20, …, 90, 100:</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">generators</span><span class="p">:</span>
<span class="w">  </span><span class="nt">workload</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer_generator</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">      </span><span class="nt">min_range</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">      </span><span class="nt">max_range</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">      </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</pre></div>
</div>
</div></blockquote>
<p>The Integer Generator can be configured by following options:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_range</span></code>: the minimal integer value that shall be generated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_range</span></code>: the maximal integer value that shall be generated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step</span></code>: the step (or increment) of the range.</p></li>
</ul>
</div></blockquote>
</section>
<section id="module-perun.workload.string_generator">
<span id="string-generator"></span><h3>String Generator<a class="headerlink" href="#module-perun.workload.string_generator" title="Link to this heading">¶</a></h3>
<p>String Generator generates strings of changing length.</p>
<p>The String Generators starts generating random strings starting from the <code class="docutils literal notranslate"><span class="pre">min_len</span></code>, and
continuously increments this length by <code class="docutils literal notranslate"><span class="pre">step_len</span></code> (by default equal to 1), until it reaches
the <code class="docutils literal notranslate"><span class="pre">max_len</span></code> (including).</p>
<p>The following shows the example of integer generator, which continuously generates workload strings
of length 1, 2, …, 9, 10:</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">generators</span><span class="p">:</span>
<span class="w">  </span><span class="nt">workload</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string_generator</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">      </span><span class="nt">min_len</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">max_len</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">      </span><span class="nt">step_len</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
</div></blockquote>
<p>The String Generator can be configured by following options:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_len</span></code>: the minimal length of the string that shall be generated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_len</span></code>: the maximal length of the string that shall be generated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step_len</span></code>: the step (or increment) of the lengths.</p></li>
</ul>
</div></blockquote>
</section>
<section id="module-perun.workload.textfile_generator">
<span id="text-file-generator"></span><h3>Text File Generator<a class="headerlink" href="#module-perun.workload.textfile_generator" title="Link to this heading">¶</a></h3>
<p>Text File Generator generates the range of random files.</p>
<p>The TextFile Generator generates files with random contents (lorem ipsum) starting from
<code class="docutils literal notranslate"><span class="pre">min_lines</span></code>, and continuously increments this value by <code class="docutils literal notranslate"><span class="pre">step</span></code> until the number of lines in
the generated file reaches <code class="docutils literal notranslate"><span class="pre">max_lines</span></code>. Each row will then either have maximal length of
<code class="docutils literal notranslate"><span class="pre">max_chars</span></code> (if <code class="docutils literal notranslate"><span class="pre">randomize_rows</span></code> is set to false value), otherwise the length is randomized
from the interval (<code class="docutils literal notranslate"><span class="pre">min_lines</span></code>, <code class="docutils literal notranslate"><span class="pre">max_lines</span></code>).</p>
<p>The following shows the example of integer generator, which continuously generates workloads
10, 20, …, 90, 100:</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">generators</span><span class="p">:</span>
<span class="w">  </span><span class="nt">workload</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">textfile_generator</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">textfile</span>
<span class="w">      </span><span class="nt">min_lines</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">      </span><span class="nt">max_lines</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">      </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</pre></div>
</div>
</div></blockquote>
<p>The TextFile Generator can be configured by following options:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_lines</span></code>: the minimal number of lines in the file that shall be generated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_lines</span></code>: the maximal number of lines in the file that shall be generated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step</span></code>: the step (or increment) of the range. By default set to 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min_chars</span></code>: the minimal number of characters on one line. By default set to 5.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_chars</span></code>: the maximal number of characters on one line. By default set to 80.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">randomize_rows</span></code>: by default set to True, the rows in the file have then randomized length
from interval (<code class="docutils literal notranslate"><span class="pre">min_chars</span></code>, <code class="docutils literal notranslate"><span class="pre">max_chars</span></code>). Otherwise (if set to false), the lines will always
be of maximal length (<code class="docutils literal notranslate"><span class="pre">max_chars</span></code>).</p></li>
</ul>
</div></blockquote>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="index.html">
    <h3>Perun</h3>
  </a>
</p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Automating Runs</a><ul>
<li><a class="reference internal" href="#runner-cli">Runner CLI</a><ul>
<li><a class="reference internal" href="#perun-run-job">perun run job</a></li>
<li><a class="reference internal" href="#perun-run-matrix">perun run matrix</a></li>
</ul>
</li>
<li><a class="reference internal" href="#overview-of-jobs">Overview of Jobs</a></li>
<li><a class="reference internal" href="#job-matrix-format">Job Matrix Format</a></li>
<li><a class="reference internal" href="#module-perun.workload">List of Supported Workload Generators</a><ul>
<li><a class="reference internal" href="#module-perun.workload.generator">Generic settings</a></li>
<li><a class="reference internal" href="#module-perun.workload.singleton_generator">Singleton Generator</a></li>
<li><a class="reference internal" href="#module-perun.workload.integer_generator">Integer Generator</a></li>
<li><a class="reference internal" href="#module-perun.workload.string_generator">String Generator</a></li>
<li><a class="reference internal" href="#module-perun.workload.textfile_generator">Text File Generator</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="views.html" title="previous chapter">Visualizations Overview</a></li>
      <li>Next: <a href="degradation.html" title="next chapter">Detecting Performance Changes</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/jobs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2017, Tomas Fiedor, Jiri Pavela, Simon Stupinsky, et al..
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/jobs.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>