
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Visualizations Overview &#8212; Perun 0.14.1 documentation</title>
    <link rel="stylesheet" href="_static/perun.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.14.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Automating Runs" href="jobs.html" />
    <link rel="prev" title="Postprocessors Overview" href="postprocessors.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-perun.view">
<span id="visualizations-overview"></span><span id="views-overview"></span><h1>Visualizations Overview<a class="headerlink" href="#module-perun.view" title="Permalink to this headline">¶</a></h1>
<p>Performance profiles originate either from the user’s own means (i.e. by
building their own collectors and generating the profiles w.r.t
<a class="reference internal" href="profile.html#profile-spec"><span class="std std-ref">Specification of Profile Format</span></a>) or using one of the collectors from Perun’s tool suite.</p>
<p>Perun can can interpret the profiling data in several ways:</p>
<blockquote>
<div><ol class="arabic simple">
<li>By <strong>directly running interpretation modules</strong> through <code class="docutils literal"><span class="pre">perun</span> <span class="pre">show</span></code>
command, that takes the profile w.r.t. <a class="reference internal" href="profile.html#profile-spec"><span class="std std-ref">Specification of Profile Format</span></a> and uses
various output backends (e.g. <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a>, <a class="reference external" href="https://www.gnu.org/software/ncurses/ncurses.html">ncurses</a> or plain terminal). The
output method and format is up to the authors.</li>
<li>By <strong>using python interpreter</strong> together with internal modules for
manipulation, conversion and querying the profiles (refer to
<a class="reference internal" href="profile.html#profile-api"><span class="std std-ref">Profile API</span></a>, <a class="reference internal" href="profile.html#profile-query-api"><span class="std std-ref">Profile Query API</span></a>, and
<a class="reference internal" href="profile.html#profile-conversion-api"><span class="std std-ref">Profile Conversions API</span></a>) and external statistical libraries, like
e.g. using <a class="reference external" href="https://pandas.pydata.org/">pandas</a>.</li>
</ol>
</div></blockquote>
<p>The format of input profiles has to be w.r.t. <a class="reference internal" href="profile.html#profile-spec"><span class="std std-ref">Specification of Profile Format</span></a>, in
particular the intepreted profiles should contain the <a class="reference internal" href="profile.html#perfkey-resources"><em class="xref std std-pkey">resources</em></a> region
with data.</p>
<p>Automatically generated profiles are stored in the <code class="docutils literal"><span class="pre">.perun/jobs/</span></code>
directory as a file with the <code class="docutils literal"><span class="pre">.perf</span></code> extension. The filename is by default
automatically generated according to the following template:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">-</span><span class="n">collector</span><span class="o">-</span><span class="n">workload</span><span class="o">-</span><span class="n">timestamp</span><span class="o">.</span><span class="n">perf</span>
</pre></div>
</div>
<p>Refer to <a class="reference internal" href="cli.html"><span class="doc">Command Line Interface</span></a>, <a class="reference internal" href="jobs.html"><span class="doc">Automating Runs</span></a>, <a class="reference internal" href="collectors.html"><span class="doc">Collectors Overview</span></a> and <a class="reference internal" href="postprocessors.html"><span class="doc">Postprocessors Overview</span></a>
for more details about running command line commands, generating batch of jobs,
capabilities of collectors and postprocessors techniques respectively.
Internals of perun storage is described in <a class="reference internal" href="internals.html"><span class="doc">Perun Internals</span></a>.</p>
<p>Note that interface of show allows one to use <cite>index</cite> and <cite>pending</cite> tags of
form <code class="docutils literal"><span class="pre">i&#64;i</span></code> and <code class="docutils literal"><span class="pre">i&#64;p</span></code> respectively, which serve as a quality-of-life feature
for easy specification of visualized profiles.</p>
<a class="reference internal image-reference" href="_images/architecture-views.svg"><div align="center" class="align-center"><img alt="_images/architecture-views.svg" src="_images/architecture-views.svg" width="100%" /></div>
</a>
<div class="section" id="supported-visualizations">
<span id="views-list"></span><h2>Supported Visualizations<a class="headerlink" href="#supported-visualizations" title="Permalink to this headline">¶</a></h2>
<p>Perun’s tool suite currently contains the following visualizations:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="#views-bars"><span class="std std-ref">Bars Plot</span></a> visualizes the data as bars, with moderate customization possibilities.
The output is generated as an interactive HTML file using the <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> library, where one can
e.g. move or resize the graph. <cite>Bars</cite> supports high number of profile types.</li>
<li><a class="reference internal" href="#views-flow"><span class="std std-ref">Flow Plot</span></a> visualizes the data as flow (i.e. classical continuous graph), with
moderate customization possiblities. The output is generated as an interactive HTML file
using the <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> library, where one can move and resize the graph. <cite>Flow</cite> supports high
number of profile types.</li>
<li><a class="reference internal" href="#views-flame-graph"><span class="std std-ref">Flame Graph</span></a> is an interface for Perl script of Brendan Gregg, that converts the
(currently limited to memory profiles) profile to an internal format and visualize the
resources as stacks of portional resource consumption depending on the trace of the
resources.</li>
<li><a class="reference internal" href="#views-scatter"><span class="std std-ref">Scatter Plot</span></a> visualizes the data as points on two dimensional grid, with moderate
customization possibilities. This visualization also display regression models, if the input
profile was postprocessed by <a class="reference internal" href="postprocessors.html#postprocessors-regression-analysis"><span class="std std-ref">Regression Analysis</span></a>.</li>
<li><a class="reference internal" href="#views-heapmap"><span class="std std-ref">Heap Map</span></a> visualizes the <cite>memory</cite> consumption as a heap map of allocation
resources to target memory addresses. Note that the output is dependent on <a class="reference external" href="https://www.gnu.org/software/ncurses/ncurses.html">ncurses</a> library and hence
can currently be used only from UNIX terminals.</li>
</ol>
</div></blockquote>
<p>All of the listed visualizations can be run from command line. For more information about command
line interface for individual visualization either refer to <a class="reference internal" href="cli.html#cli-collect-units-ref"><span class="std std-ref">Collect units</span></a> or to
corresponding subsection of this chapter.</p>
<p>For a brief tutorial how to create your own visualization module and register it in Perun for
further usage refer to <a class="reference internal" href="#views-custom"><span class="std std-ref">Creating your own Visualization</span></a>. The format and the output is of your choice, it only
has to be built over the format as described in <a class="reference internal" href="profile.html#profile-spec"><span class="std std-ref">Specification of Profile Format</span></a> (or can be based over one of
the conversions, see <a class="reference internal" href="profile.html#profile-conversion-api"><span class="std std-ref">Profile Conversions API</span></a>).</p>
<div class="section" id="module-perun.view.bars">
<span id="bars-plot"></span><span id="views-bars"></span><h3>Bars Plot<a class="headerlink" href="#module-perun.view.bars" title="Permalink to this headline">¶</a></h3>
<p><cite>Bar graphs</cite> displays resources as bars, with moderate customization
possibilities (regarding the sources for axes, or grouping keys). The output
backend of <cite>Bars</cite> is both <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> and <a class="reference external" href="https://www.gnu.org/software/ncurses/ncurses.html">ncurses</a> (with limited possibilities
though). <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> graphs support either the stacked format (bars of different
groups will be stacked on top of each other) or grouped format (bars of
different groups will be displayed next to each other).</p>
<div class="section" id="overview-and-command-line-interface">
<h4>Overview and Command Line Interface<a class="headerlink" href="#overview-and-command-line-interface" title="Permalink to this headline">¶</a></h4>
<div class="section" id="perun-show-bars">
<h5>perun show bars<a class="headerlink" href="#perun-show-bars" title="Permalink to this headline">¶</a></h5>
<p>Customizable interpretation of resources using the bar format.</p>
<dl class="docutils">
<dt></dt>
<dd><ul class="first last simple">
<li><strong>Limitations</strong>: <cite>none</cite>.</li>
<li><strong>Interpretation style</strong>: graphical</li>
<li><strong>Visualization backend</strong>: <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a></li>
</ul>
</dd>
</dl>
<p><cite>Bars</cite> graph shows the aggregation (e.g. sum, count, etc.) of resources of
given types (or keys). Each bar shows <code class="docutils literal"><span class="pre">&lt;func&gt;</span></code> of resources from <code class="docutils literal"><span class="pre">&lt;of&gt;</span></code>
key (e.g. sum of amounts, average of amounts, count of types, etc.) per
each <code class="docutils literal"><span class="pre">&lt;per&gt;</span></code> key (e.g. per each snapshot, or per each type).  Moreover,
the graphs can either be (i) stacked, where the different values of
<code class="docutils literal"><span class="pre">&lt;by&gt;</span></code> key are shown above each other, or (ii) grouped, where the
different values of <code class="docutils literal"><span class="pre">&lt;by&gt;</span></code> key are shown next to each other. Refer to
<a class="reference internal" href="profile.html#perfkey-resources"><em class="xref std std-pkey">resources</em></a> for examples of keys that can be used as <code class="docutils literal"><span class="pre">&lt;of&gt;</span></code>,
<code class="docutils literal"><span class="pre">&lt;key&gt;</span></code>, <code class="docutils literal"><span class="pre">&lt;per&gt;</span></code> or <code class="docutils literal"><span class="pre">&lt;by&gt;</span></code>.</p>
<p><a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> library is the current interpretation backend, which generates HTML
files, that can be opened directly in the browser. Resulting graphs can be
further customized by adding custom labels for axes, custom graph title or
different graph width.</p>
<p>Example 1. The following will display the sum of sum of amounts of all
resources of given for each subtype, stacked by uid (e.g. the locations in
the program):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">perun</span> <span class="n">show</span> <span class="mi">0</span><span class="nd">@i</span> <span class="n">bars</span> <span class="nb">sum</span> <span class="o">--</span><span class="n">of</span> <span class="s1">&#39;amount&#39;</span> <span class="o">--</span><span class="n">per</span> <span class="s1">&#39;subtype&#39;</span> <span class="o">--</span><span class="n">stacked</span> <span class="o">--</span><span class="n">by</span> <span class="s1">&#39;uid&#39;</span>
</pre></div>
</div>
<p>The example output of the bars is as follows:</p>
<pre class="literal-block">
                                &lt;graph_title&gt;
                        `
                        -         .::.                ````````
                        `         :&amp;&amp;:                ` # \  `
                        -   .::.  ::::        .::.    ` &#64;  }-&gt;  &lt;by&gt;
                        `   :##:  :##:        :&amp;&amp;:    ` &amp; /  `
        &lt;func&gt;(&lt;of&gt;)    -   :##:  :##:  .::.  :&amp;&amp;:    ````````
                        `   ::::  :##:  :&amp;&amp;:  ::::
                        -   :&#64;&#64;:  ::::  ::::  :##:
                        `   :&#64;&#64;:  :&#64;&#64;:  :##:  :##:
                        +````||````||````||````||````

                                    &lt;per&gt;
</pre>
<p>Refer to <a class="reference internal" href="#views-bars"><span class="std std-ref">Bars Plot</span></a> for more thorough description and example of
<cite>bars</cite> interpretation possibilities.</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>perun show bars <span class="o">[</span>OPTIONS<span class="o">]</span> &lt;aggregation_function&gt;
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="option">
<dt id="cmdoption-perun-show-bars-o">
<code class="descname">-o</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--of</code><code class="descclassname"> &lt;of_key&gt;</code><a class="headerlink" href="#cmdoption-perun-show-bars-o" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets key that is source of the data for the bars, i.e. what will be displayed on Y axis.  [required]</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-p">
<code class="descname">-p</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--per</code><code class="descclassname"> &lt;per_key&gt;</code><a class="headerlink" href="#cmdoption-perun-show-bars-p" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets key that is source of values displayed on X axis of the bar graph.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-b">
<code class="descname">-b</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--by</code><code class="descclassname"> &lt;by_key&gt;</code><a class="headerlink" href="#cmdoption-perun-show-bars-b" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the key that will be used either for stacking or grouping of values</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-s">
<code class="descname">-s</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--stacked</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-bars-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Will stack the values by &lt;resource_key&gt; specified by option –by.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-g">
<code class="descname">-g</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--grouped</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-bars-g" title="Permalink to this definition">¶</a></dt>
<dd><p>Will stack the values by &lt;resource_key&gt; specified by option –by.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-f">
<code class="descname">-f</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--filename</code><code class="descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-perun-show-bars-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the outputs for the graph to the file.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-xl">
<code class="descname">-xl</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--x-axis-label</code><code class="descclassname"> &lt;x_axis_label&gt;</code><a class="headerlink" href="#cmdoption-perun-show-bars-xl" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the custom label on the X axis of the bar graph.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-yl">
<code class="descname">-yl</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--y-axis-label</code><code class="descclassname"> &lt;y_axis_label&gt;</code><a class="headerlink" href="#cmdoption-perun-show-bars-yl" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the custom label on the Y axis of the bar graph.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-gt">
<code class="descname">-gt</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--graph-title</code><code class="descclassname"> &lt;graph_title&gt;</code><a class="headerlink" href="#cmdoption-perun-show-bars-gt" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the custom title of the bars graph.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-bars-v">
<code class="descname">-v</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--view-in-browser</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-bars-v" title="Permalink to this definition">¶</a></dt>
<dd><p>The generated graph will be immediately opened in the browser (firefox will be used).</p>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="option">
<dt id="cmdoption-perun-show-bars-arg-aggregation-function">
<code class="descname">&lt;aggregation_function&gt;</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-bars-arg-aggregation-function" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional argument</p>
</dd></dl>

</div>
</div>
<div class="section" id="examples-of-output">
<span id="views-bars-examples"></span><h4>Examples of Output<a class="headerlink" href="#examples-of-output" title="Permalink to this headline">¶</a></h4>
<img alt="_images/complexity-bars.png" src="_images/complexity-bars.png" />
<p>The <a class="reference internal" href="#views-bars"><span class="std std-ref">Bars Plot</span></a> above shows the overall sum of the running times for each
<code class="docutils literal"><span class="pre">structure-unit-size</span></code> for the <code class="docutils literal"><span class="pre">SLList_search</span></code> function collected by
<a class="reference internal" href="collectors.html#collectors-complexity"><span class="std std-ref">Complexity Collector</span></a>. The interpretation highlights that the most of the consumed running
time were over the single linked lists with 41 elements.</p>
<img alt="_images/memory-bars-stacked.png" src="_images/memory-bars-stacked.png" />
<p>The <cite>bars</cite> above shows the <cite>stacked</cite> view of number of memory allocations made per each snapshot
(with sampling of <code class="docutils literal"><span class="pre">1</span></code> second). Each bar shows overall number of memory operations, as well as
proportional representation of different types of memory (de)allocation. It can also be seen that
<code class="docutils literal"><span class="pre">free</span></code> is called approximately the same time as allocations, which signifies that everything was
probably freed.</p>
<img alt="_images/memory-bars-sum-grouped.png" src="_images/memory-bars-sum-grouped.png" />
<p>The <cite>bars</cite> above shows the <cite>grouped</cite> view of sum of memory allocation of the same type per each
snapshot (with sampling of <code class="docutils literal"><span class="pre">0.5</span></code> seconds). Grouped pars allows fast comparison of total amounts
between different types. E.g. <code class="docutils literal"><span class="pre">malloc</span></code> seems to allocated the most memory per each snapshot.</p>
</div>
</div>
<div class="section" id="module-perun.view.flamegraph">
<span id="flame-graph"></span><span id="views-flame-graph"></span><h3>Flame Graph<a class="headerlink" href="#module-perun.view.flamegraph" title="Permalink to this headline">¶</a></h3>
<p><cite>Flame graph</cite> shows the relative consumption of resources w.r.t. to the
trace of the resource origin. Currently it is limited to <cite>memory</cite> profiles
(however, the generalization of the module is in plan). The usage of flame
graphs is for faster localization of resource consumption hot spots and
bottlenecks.</p>
<div class="section" id="id6">
<h4>Overview and Command Line Interface<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="section" id="perun-show-flamegraph">
<h5>perun show flamegraph<a class="headerlink" href="#perun-show-flamegraph" title="Permalink to this headline">¶</a></h5>
<p>Flame graph interprets the relative and inclusive presence of the
resources according to the stack depth of the origin of resources.</p>
<dl class="docutils">
<dt></dt>
<dd><ul class="first last simple">
<li><strong>Limitations</strong>: <cite>memory</cite> profiles generated by
<a class="reference internal" href="collectors.html#collectors-memory"><span class="std std-ref">Memory Collector</span></a>.</li>
<li><strong>Interpretation style</strong>: graphical</li>
<li><strong>Visualization backend</strong>: HTML</li>
</ul>
</dd>
</dl>
<p>Flame graph intends to quickly identify hotspots, that are the source of
the resource consumption complexity. On X axis, a relative consumption of
the data is depicted, while on Y axis a stack depth is displayed. The wider
the bars are on the X axis are, the more the function consumed resources
relative to others.</p>
<p><strong>Acknowledgements</strong>: Big thanks to Brendan Gregg for creating the original
perl script for creating flame graphs w.r.t simple format. If you like this
visualization technique, please check out this guy’s site
(<a class="reference external" href="http://brendangregg.com">http://brendangregg.com</a>) for more information about performance, profiling
and useful talks and visualization techniques!</p>
<p>The example output of the flamegraph is more or less as follows:</p>
<pre class="literal-block">
                    `
                    -                         .
                    `                         |
                    -              ..         |     .
                    `              ||         |     |
                    -              ||        ||    ||
                    `            |%%|       |--|  |!|
                    -     |## g() ##|     |#g()#|***|
                    ` |&amp;&amp;&amp;&amp; f() &amp;&amp;&amp;&amp;|===== h() =====|
                    +````||````||````||````||````||````
</pre>
<p>Refer to <a class="reference internal" href="#views-flame-graph"><span class="std std-ref">Flame Graph</span></a> for more thorough description and
examples of the interpretation technique. Refer to
<a class="reference internal" href="profile.html#perun.profile.convert.to_flame_graph_format" title="perun.profile.convert.to_flame_graph_format"><code class="xref py py-func docutils literal"><span class="pre">perun.profile.convert.to_flame_graph_format()</span></code></a> for more details how
the profiles are converted to the flame graph format.</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>perun show flamegraph <span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="option">
<dt id="cmdoption-perun-show-flamegraph-f">
<code class="descname">-f</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--filename</code><code class="descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flamegraph-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the output file of the resulting flame graph.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flamegraph-h">
<code class="descname">-h</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--graph-height</code><code class="descclassname"> &lt;graph_height&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flamegraph-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Increases the width of the resulting flame graph.</p>
</dd></dl>

</div>
<img alt="_images/memory-flamegraph.png" id="views-flamegraph-examples" src="_images/memory-flamegraph.png" />
<p>The <a class="reference internal" href="#views-flame-graph"><span class="std std-ref">Flame Graph</span></a> is an efficient visualization of inclusive consumption of resources.
The width of the base of one flame shows the bottleneck and hotspots of profiled binaries.</p>
</div>
<div class="section" id="id7">
<h4>Examples of Output<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="module-perun.view.flow">
<span id="flow-plot"></span><span id="views-flow"></span><h3>Flow Plot<a class="headerlink" href="#module-perun.view.flow" title="Permalink to this headline">¶</a></h3>
<p><cite>Flow graphs</cite> displays resources as classic plots, with moderate
customization possibilities (regarding the sources for axes, or grouping keys).
The output backend of <cite>Flow</cite> is both <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> and <a class="reference external" href="https://www.gnu.org/software/ncurses/ncurses.html">ncurses</a> (with limited
possibilities though). <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> graphs support either the classic display of
resources (graphs will overlap) or in stacked format (graphs of different
groups will be stacked on top of each other).</p>
<div class="section" id="id10">
<h4>Overview and Command Line Interface<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<div class="section" id="perun-show-flow">
<h5>perun show flow<a class="headerlink" href="#perun-show-flow" title="Permalink to this headline">¶</a></h5>
<p>Customizable interpretation of resources using the flow format.</p>
<dl class="docutils">
<dt></dt>
<dd><ul class="first last simple">
<li><strong>Limitations</strong>: <cite>none</cite>.</li>
<li><strong>Interpretation style</strong>: graphical, textual</li>
<li><strong>Visualization backend</strong>: <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a>, ncurses</li>
</ul>
</dd>
</dl>
<p><cite>Flow</cite> graph shows the values resources depending on the independent
variable as basic graph. For each group of resources identified by unique
value of <code class="docutils literal"><span class="pre">&lt;by&gt;</span></code> key, one graph shows the dependency of <code class="docutils literal"><span class="pre">&lt;of&gt;</span></code> values
aggregated by <code class="docutils literal"><span class="pre">&lt;func&gt;</span></code> depending on the <code class="docutils literal"><span class="pre">&lt;through&gt;</span></code> key. Moreover, the
values can either be accumulated (this way when displaying the value of ‘n’
on x axis, we accumulate the sum of all values for all m &lt; n) or stacked,
where the graphs are output on each other and then one can see the overall
trend through all the groups and proportions between each of the group.</p>
<p><a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> library is the current interpretation backend, which generates HTML
files, that can be opened directly in the browser. Resulting graphs can be
further customized by adding custom labels for axes, custom graph title or
different graph width.</p>
<p>Example 1. The following will show the average amount (in this case
the function running time) of each function depending on the size of the
structure over which the given function operated:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">perun</span> <span class="n">show</span> <span class="mi">0</span><span class="nd">@i</span> <span class="n">flow</span> <span class="n">mean</span> <span class="o">--</span><span class="n">of</span> <span class="s1">&#39;amount&#39;</span> <span class="o">--</span><span class="n">per</span> <span class="s1">&#39;structure-unit-size&#39;</span>
    <span class="o">--</span><span class="n">acumulated</span> <span class="o">--</span><span class="n">by</span> <span class="s1">&#39;uid&#39;</span>
</pre></div>
</div>
<p>The example output of the bars is as follows:</p>
<pre class="literal-block">
                                &lt;graph_title&gt;
                        `
                        -                      ______    ````````
                        `                _____/          ` # \  `
                        -               /          __    ` &#64;  }-&gt;  &lt;by&gt;
                        `          ____/      ____/      ` &amp; /  `
        &lt;func&gt;(&lt;of&gt;)    -      ___/       ___/           ````````
                        `  ___/    ______/       ____
                        -/  ______/        _____/
                        `__/______________/
                        +````||````||````||````||````

                                  &lt;through&gt;
</pre>
<p>Refer to <a class="reference internal" href="#views-flow"><span class="std std-ref">Flow Plot</span></a> for more thorough description and example of
<cite>flow</cite> interpretation possibilities.</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>perun show flow <span class="o">[</span>OPTIONS<span class="o">]</span> &lt;aggregation_function&gt;
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="option">
<dt id="cmdoption-perun-show-flow-o">
<code class="descname">-o</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--of</code><code class="descclassname"> &lt;of_key&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flow-o" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets key that is source of the data for the flow, i.e. what will be displayed on Y axis, e.g. the amount of resources.  [required]</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-t">
<code class="descname">-t</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--through</code><code class="descclassname"> &lt;through_key&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flow-t" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets key that is source of the data value, i.e. the independent variable, like e.g. snapshots or size of the structure.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-b">
<code class="descname">-b</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--by</code><code class="descclassname"> &lt;by_key&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flow-b" title="Permalink to this definition">¶</a></dt>
<dd><p>For each &lt;by_resource_key&gt; one graph will be output, e.g. for each subtype or for each location of resource.  [required]</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-s">
<code class="descname">-s</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--stacked</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-flow-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Will stack the y axis values for different &lt;by&gt; keys on top of each other. Additionaly shows the sum of the values.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-accumulate">
<code class="descname">--accumulate</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--no-accumulate</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-flow-accumulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Will accumulate the values for all previous values of X axis.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-ut">
<code class="descname">-ut</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--use-terminal</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-flow-ut" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows flow graph in the terminal using ncurses library.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-f">
<code class="descname">-f</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--filename</code><code class="descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flow-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the outputs for the graph to the file.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-xl">
<code class="descname">-xl</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--x-axis-label</code><code class="descclassname"> &lt;x_axis_label&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flow-xl" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the custom label on the X axis of the flow graph.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-yl">
<code class="descname">-yl</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--y-axis-label</code><code class="descclassname"> &lt;y_axis_label&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flow-yl" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the custom label on the Y axis of the flow graph.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-gt">
<code class="descname">-gt</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--graph-title</code><code class="descclassname"> &lt;graph_title&gt;</code><a class="headerlink" href="#cmdoption-perun-show-flow-gt" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the custom title of the flow graph.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-flow-v">
<code class="descname">-v</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--view-in-browser</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-flow-v" title="Permalink to this definition">¶</a></dt>
<dd><p>The generated graph will be immediately opened in the browser (firefox will be used).</p>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="option">
<dt id="cmdoption-perun-show-flow-arg-aggregation-function">
<code class="descname">&lt;aggregation_function&gt;</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-flow-arg-aggregation-function" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional argument</p>
</dd></dl>

</div>
</div>
<div class="section" id="views-flow-examples">
<span id="id12"></span><h4>Examples of Output<a class="headerlink" href="#views-flow-examples" title="Permalink to this headline">¶</a></h4>
<img alt="_images/memory-flow.png" src="_images/memory-flow.png" />
<p>The <a class="reference internal" href="#views-flow"><span class="std std-ref">Flow Plot</span></a> above shows the mean of allocated amounts per each allocation site (i.e.
<code class="docutils literal"><span class="pre">uid</span></code>) in stacked mode. The stacking of the means clearly shows, where the biggest allocations
where made during the program run.</p>
<img alt="_images/complexity-flow.png" src="_images/complexity-flow.png" />
<p>The <a class="reference internal" href="#views-flow"><span class="std std-ref">Flow Plot</span></a> above shows the trend of the average running time of the <code class="docutils literal"><span class="pre">SLList_search</span></code>
function depending on the size of the structure we execute the search on.</p>
</div>
</div>
<div class="section" id="module-perun.view.heapmap">
<span id="heap-map"></span><span id="views-heapmap"></span><h3>Heap Map<a class="headerlink" href="#module-perun.view.heapmap" title="Permalink to this headline">¶</a></h3>
<p><cite>Heap map</cite> is a visualization of underlying memory address map that links
chunks of allocated memory to corresponding allocation sources.  This is mostly
for showing utilization of memory, where objects were allocated, how often, and
how the objects are fragmented in the memory. Heap map visualization is
interactive and is implemented using ncurses library.</p>
<div class="section" id="id13">
<h4>Overview and Command Line Interface<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<div class="section" id="perun-show-heapmap">
<h5>perun show heapmap<a class="headerlink" href="#perun-show-heapmap" title="Permalink to this headline">¶</a></h5>
<p>Shows interactive map of memory allocations to concrete memories for
each function.</p>
<dl class="docutils">
<dt></dt>
<dd><ul class="first last simple">
<li><strong>Limitations</strong>: <cite>memory</cite> profiles generated by
<a class="reference internal" href="collectors.html#collectors-memory"><span class="std std-ref">Memory Collector</span></a>.</li>
<li><strong>Interpretation style</strong>: textual</li>
<li><strong>Visualization backend</strong>: ncurses</li>
</ul>
</dd>
</dl>
<p>Heap map shows the underlying memory map, and links the concrete
allocations to allocated addresses for each snapshot. The map is
interactive, one can either play the full animation of the allocations
through snapshots or move and explore the details of the map.</p>
<p>Moreover, the heap map contains <cite>heat map</cite> mode, which accumulates the
allocations into the heat representation—the hotter the colour displayed
at given memory cell, the more time it was allocated there.</p>
<p>The heap map aims at showing the fragmentation of the memory and possible
differences between different allocation strategies. On the other hand, the
heat mode aims at showing the bottlenecks of allocations.</p>
<p>Refer to <a class="reference internal" href="#views-heapmap"><span class="std std-ref">Heap Map</span></a> for more thorough description and example of
<cite>heapmap</cite> interpretation possibilities.</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>perun show heapmap <span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="views-heapmap-examples">
<span id="id14"></span><h4>Examples of Output<a class="headerlink" href="#views-heapmap-examples" title="Permalink to this headline">¶</a></h4>
<img alt="_images/memory-heapmap.png" src="_images/memory-heapmap.png" />
<p>The <a class="reference internal" href="#views-heapmap"><span class="std std-ref">Heap Map</span></a> shows the address space through the time (snapshots) and visualize the
fragmentation of memory allocation per each allocation site. The <cite>heap map</cite> aboe shows the
difference between allocations using lists (purple), skiplists (pinkish) and standard vectors
(blue). The map itself is interactive and displays details about individual address cells.</p>
<img alt="_images/memory-heatmap.png" src="_images/memory-heatmap.png" />
<p><cite>Heat map</cite> is a mode of heap map, which aggregates the allocations over all of the snapshots and
uses warmer colours for address cells, where more allocations were performed.</p>
</div>
</div>
<div class="section" id="module-perun.view.scatter">
<span id="scatter-plot"></span><span id="views-scatter"></span><h3>Scatter Plot<a class="headerlink" href="#module-perun.view.scatter" title="Permalink to this headline">¶</a></h3>
<p><cite>Scatter plot</cite> visualizes the data as points on two dimensional grid, with
moderate customization possibilities. This visualization also display
regression models, if the input profile was postprocessed by
<a class="reference internal" href="postprocessors.html#postprocessors-regression-analysis"><span class="std std-ref">Regression Analysis</span></a>. The output backend of <cite>Scatter plot</cite>
is <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> library.</p>
<div class="section" id="id16">
<h4>Overview and Command Line Interface<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<div class="section" id="perun-show-scatter">
<h5>perun show scatter<a class="headerlink" href="#perun-show-scatter" title="Permalink to this headline">¶</a></h5>
<p>Interactive visualization of resources and models in scatter plot format.</p>
<p>Scatter plot shows resources as points according to the given parameters.
The plot interprets &lt;per&gt; and &lt;of&gt; as x, y coordinates for the points. The
scatter plot also displays models located in the profile as a curves/lines.</p>
<dl class="docutils">
<dt></dt>
<dd><ul class="first last simple">
<li><strong>Limitations</strong>: <cite>none</cite>.</li>
<li><strong>Interpretation style</strong>: graphical</li>
<li><strong>Visualization backend</strong>: <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a></li>
</ul>
</dd>
</dl>
<p>Features in progress:</p>
<blockquote>
<div><ul class="simple">
<li>uid filters</li>
<li>models filters</li>
<li>multiple graphs interpretation</li>
</ul>
</div></blockquote>
<p>Graphs are displayed using the <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> library and can be further customized
by adding custom labels for axis, custom graph title and different graph
width.</p>
<p>The example output of the scatter is as follows:</p>
<pre class="literal-block">
                          &lt;graph_title&gt;
                  `                         o
                  -                        /
                  `                       /o       ```````````````````
                  -                     _/         `  o o = &lt;points&gt; `
                  `                   _- o         `    _             `
    &lt;of&gt;          -               __--o            `  _-  = &lt;models&gt; `
                  `    _______--o- o               `                 `
                  -    o  o  o                     ```````````````````
                  `
                  +````||````||````||````||````

                              &lt;per&gt;
</pre>
<p>Refer to <a class="reference internal" href="#views-scatter"><span class="std std-ref">Scatter Plot</span></a> for more thorough description and example of
<cite>scatter</cite> interpretation possibilities. For more thorough explanation of
regression analysis and models refer to
<a class="reference internal" href="postprocessors.html#postprocessors-regression-analysis"><span class="std std-ref">Regression Analysis</span></a>.</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>perun show scatter <span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="option">
<dt id="cmdoption-perun-show-scatter-o">
<code class="descname">-o</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--of</code><code class="descclassname"> &lt;of_key&gt;</code><a class="headerlink" href="#cmdoption-perun-show-scatter-o" title="Permalink to this definition">¶</a></dt>
<dd><p>Data source for the scatter plot, i.e. what will be displayed on Y axis.  [default: amount]</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-scatter-p">
<code class="descname">-p</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--per</code><code class="descclassname"> &lt;per_key&gt;</code><a class="headerlink" href="#cmdoption-perun-show-scatter-p" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys that will be displayed on X axis of the scatter plot.  [default: structure-unit-size]</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-scatter-f">
<code class="descname">-f</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--filename</code><code class="descclassname"> &lt;filename&gt;</code><a class="headerlink" href="#cmdoption-perun-show-scatter-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs the graph to the file specified by filename.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-scatter-xl">
<code class="descname">-xl</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--x-axis-label</code><code class="descclassname"> &lt;x_axis_label&gt;</code><a class="headerlink" href="#cmdoption-perun-show-scatter-xl" title="Permalink to this definition">¶</a></dt>
<dd><p>Label on the X axis of the scatter plot.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-scatter-yl">
<code class="descname">-yl</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--y-axis-label</code><code class="descclassname"> &lt;y_axis_label&gt;</code><a class="headerlink" href="#cmdoption-perun-show-scatter-yl" title="Permalink to this definition">¶</a></dt>
<dd><p>Label on the Y axis of the scatter plot.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-scatter-gt">
<code class="descname">-gt</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--graph-title</code><code class="descclassname"> &lt;graph_title&gt;</code><a class="headerlink" href="#cmdoption-perun-show-scatter-gt" title="Permalink to this definition">¶</a></dt>
<dd><p>Title of the scatter plot.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-perun-show-scatter-v">
<code class="descname">-v</code><code class="descclassname"></code><code class="descclassname">, </code><code class="descname">--view-in-browser</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-perun-show-scatter-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Will show the graph in browser.</p>
</dd></dl>

</div>
</div>
<div class="section" id="views-scatter-examples">
<span id="id18"></span><h4>Examples of Output<a class="headerlink" href="#views-scatter-examples" title="Permalink to this headline">¶</a></h4>
<img alt="_images/complexity-scatter-with-models-full.png" src="_images/complexity-scatter-with-models-full.png" />
<p>The <a class="reference internal" href="#views-scatter"><span class="std std-ref">Scatter Plot</span></a> above shows the interpreted models of different complexity example,
computed using the <strong>full computation</strong> method. In the picture, one can see that the depedency of
running time based on the structural size is best fitted by <cite>linear</cite> models.</p>
<img alt="_images/complexity-scatter-with-models-initial-guess.png" src="_images/complexity-scatter-with-models-initial-guess.png" />
<p>The next <cite>scatter plot</cite> displays the same data as previous, but regressed using the <cite>initial guess</cite>
strategy. This strategy first does a computation of all models on small sample of data points. Such
computation yields initial estimate of fitness of models (the initial sample is selected by
random). The best fitted model is then chosen and fully computed on the rest of the data points.</p>
<p>The picture shows only one model, namely <cite>linear</cite> which was fully computed to best fit the given
data points. The rest of the models had worse estimation and hence was not computed at all.</p>
</div>
</div>
</div>
<div class="section" id="creating-your-own-visualization">
<span id="views-custom"></span><h2>Creating your own Visualization<a class="headerlink" href="#creating-your-own-visualization" title="Permalink to this headline">¶</a></h2>
<p>New interpretation modules can be registered within Perun in several steps. The visualization
methods has the least requirements and only needs to work over the profiles w.r.t.
<a class="reference internal" href="profile.html#profile-spec"><span class="std std-ref">Specification of Profile Format</span></a> and implement method for <a class="reference external" href="http://click.pocoo.org/5/">Click</a> api in order to be used from command line.</p>
<p>You can register your new visualization as follows:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Run <code class="docutils literal"><span class="pre">perun</span> <span class="pre">utils</span> <span class="pre">create</span> <span class="pre">view</span> <span class="pre">myview</span></code> to generate a new modules in
<code class="docutils literal"><span class="pre">perun/view</span></code> directory with the following structure. The command takes a predefined
templates for new visualization techniques and creates <code class="docutils literal"><span class="pre">__init__.py</span></code> and <code class="docutils literal"><span class="pre">run.py</span></code>
according to the supplied command line arguments (see <a class="reference internal" href="cli.html#cli-utils-ref"><span class="std std-ref">Utility Commands</span></a> for more
information about interface of <code class="docutils literal"><span class="pre">perun</span> <span class="pre">utils</span> <span class="pre">create</span></code> command):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">perun</span>
<span class="o">|--</span> <span class="o">/</span><span class="n">view</span>
    <span class="o">|--</span> <span class="o">/</span><span class="n">myview</span>
        <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
        <span class="o">|--</span> <span class="n">run</span><span class="o">.</span><span class="n">py</span>
    <span class="o">|--</span> <span class="o">/</span><span class="n">bars</span>
    <span class="o">|--</span> <span class="o">/</span><span class="n">flamegraph</span>
    <span class="o">|--</span> <span class="o">/</span><span class="n">flow</span>
    <span class="o">|--</span> <span class="o">/</span><span class="n">heapmap</span>
    <span class="o">|--</span> <span class="o">/</span><span class="n">scatter</span>
</pre></div>
</div>
</li>
<li><p class="first">First, implement the <code class="docutils literal"><span class="pre">__init__.py</span></code> file, including the module docstring with brief
description of the visualization technique and definition of constants which has the
following structure:</p>
</li>
</ol>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;...&quot;&quot;&quot;</span>

<span class="n">SUPPORTED_PROFILES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mixed|memory|mixed&#39;</span><span class="p">]</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;You!&#39;</span>
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="3">
<li>Next, in the <code class="docutils literal"><span class="pre">run.py</span></code> implement module with the command line interface function, named the
same as your visualization technique. This function is called from the command line as
<code class="docutils literal"><span class="pre">perun</span> <span class="pre">show</span> <span class="pre">``perun</span> <span class="pre">show</span> <span class="pre">myview</span></code> and is based on <a class="reference external" href="http://click.pocoo.org/5/">Click</a> library.</li>
<li>Finally register your newly created module in <code class="xref py py-func docutils literal"><span class="pre">get_supported_module_names()</span></code> located in
<code class="docutils literal"><span class="pre">perun.utils.__init__.py</span></code>:</li>
</ol>
<div class="highlight-udiff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gd">--- /mnt/f/phdwork/perun/gh-pages/docs/_static/templates/supported_module_names.py</span>
<span class="gi">+++ /mnt/f/phdwork/perun/gh-pages/docs/_static/templates/supported_module_names_views.py</span>
<span class="gu">@@ -8,5 +8,6 @@</span>
         &#39;vcs&#39;: [&#39;git&#39;],
         &#39;collect&#39;: [&#39;complexity&#39;, &#39;memory&#39;, &#39;time&#39;],
         &#39;postprocess&#39;: [&#39;filter&#39;, &#39;normalizer&#39;, &#39;regression_analysis&#39;],
<span class="gd">-        &#39;view&#39;: [&#39;alloclist&#39;, &#39;bars&#39;, &#39;flamegraph&#39;, &#39;flow&#39;, &#39;heapmap&#39;, &#39;raw&#39;, &#39;scatter&#39;]</span>
<span class="gi">+        &#39;view&#39;: [&#39;alloclist&#39;, &#39;bars&#39;, &#39;flamegraph&#39;, &#39;flow&#39;, &#39;heapmap&#39;, &#39;raw&#39;, &#39;scatter&#39;, </span>
<span class="gi">+                 &#39;myview&#39;]</span>
     }[package]
</pre></div>
</td></tr></table></div>
<ol class="arabic" start="5">
<li><p class="first">Preferably, verify that registering did not break anything in the Perun and if you are not
using the developer installation, then reinstall Perun:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">test</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
</li>
<li><p class="first">At this point you can start using your visualization either using <code class="docutils literal"><span class="pre">perun</span> <span class="pre">show</span></code>.</p>
</li>
<li><p class="first">If you think your collector could help others, please, consider making <a class="reference external" href="https://github.com/tfiedor/perun/pull/new/develop">Pull Request</a>.</p>
</li>
</ol>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="index.html">
    <h3>Perun</h3>
  </a>
</p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Visualizations Overview</a><ul>
<li><a class="reference internal" href="#supported-visualizations">Supported Visualizations</a><ul>
<li><a class="reference internal" href="#module-perun.view.bars">Bars Plot</a><ul>
<li><a class="reference internal" href="#overview-and-command-line-interface">Overview and Command Line Interface</a><ul>
<li><a class="reference internal" href="#perun-show-bars">perun show bars</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples-of-output">Examples of Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-perun.view.flamegraph">Flame Graph</a><ul>
<li><a class="reference internal" href="#id6">Overview and Command Line Interface</a><ul>
<li><a class="reference internal" href="#perun-show-flamegraph">perun show flamegraph</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">Examples of Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-perun.view.flow">Flow Plot</a><ul>
<li><a class="reference internal" href="#id10">Overview and Command Line Interface</a><ul>
<li><a class="reference internal" href="#perun-show-flow">perun show flow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#views-flow-examples">Examples of Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-perun.view.heapmap">Heap Map</a><ul>
<li><a class="reference internal" href="#id13">Overview and Command Line Interface</a><ul>
<li><a class="reference internal" href="#perun-show-heapmap">perun show heapmap</a></li>
</ul>
</li>
<li><a class="reference internal" href="#views-heapmap-examples">Examples of Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-perun.view.scatter">Scatter Plot</a><ul>
<li><a class="reference internal" href="#id16">Overview and Command Line Interface</a><ul>
<li><a class="reference internal" href="#perun-show-scatter">perun show scatter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#views-scatter-examples">Examples of Output</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#creating-your-own-visualization">Creating your own Visualization</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="postprocessors.html" title="previous chapter">Postprocessors Overview</a></li>
      <li>Next: <a href="jobs.html" title="next chapter">Automating Runs</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/views.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Tomas Fiedor, Jiri Pavela, et al..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/views.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>